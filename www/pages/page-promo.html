<template>
    <div class="page page-promo" data-name="actu-promo">
        
        <div class="navbar">
            <div class="navbar-inner">
                <div class="left">
                    <a href="#" class="link icon-only panel-open" data-panel="left">
                    <img class="menu-icon img-responsive" src="images/menu-icon.png">
                    </a>
                </div>
                <div class="title sliding text-center">CLASSEMENT <br />PARIS SPORTIFS</div>
                <div class="right">
                    <!--a href="{{ promo.metas['bookmaker-site-url'] }}" class="link icon-only" --> <!-- data-panel="right" -->
                    <a href="/" class="link icon-only">    
                        <img class="icon home-icon img-responsive" src="images/top-10-pari-sportifs.png">
                    </a>
                </div>
            </div>
        </div>

        <div class="page-content">
            
            <div class="home-banner">
                <a href="/quizz/" class="link go-quizz">
                    <img class="quiz-banner img-responsive" src="images/quiz-banner.png">
                </a>
            </div>

            <div class="page-intro block mt-0 mb-0">
            <p class="subtitle pb-15 mb-15">Classement Paris Sportifs vous propose régulièrement des
                    promotions exclusifs sur les meilleurs sites de paris sportifs</p>
            </div>

            <div class="block content mt-0">

                <div class="promo-logo text-center">
                    <a href="{{ promo.metas['bookmaker-site-url'] }}" class="link external bookmaker_site">
                        <img class="icon img-responsive" src="{{promo.metas['bookmaker-logo']}}" alt="{{promo.term.name}}">
                    </a>
                </div>
            
                <p class="promo-message mb-0 mt-0"> {{ promo.message }} </p>

                <div class="cta-go mt-20 text-center">
                    <a id="enjoy_promo_btn" class="link gotopromo" href="{{promo_infos.promo_url}}">{{promo.bouton_promo}}</a>
                </div>

                <p class="mt-20 text-center">Cela mérite bien un petit 5 étoiles pour l’app Classement Paris Sportifs, non ?!</p>

                <div  id="rate-app-btn" class="cta mt-20 text-center">
                    <a class="btn-shadow " href="#">Noter l’application 5 étoiles</a>
                </div>
            </div>
            
        </div>
    </div>

</template>

<script type="text/javascript">
    $$('#rate-app-btn').on('click', function(e) {
        alert('.something-else');
    });

    var notifbtn = document.getElementById('rate-app-btn');
    console.log('Bonjour ');
    notifbtn.onclick = function() {
        alert('Me me !');

        AppRate.promptForRating();
    };

    notifbtn.onclick = function() {
        console.log('openNativeSettingsTest is active');
        var devicePlatform = device.platform;
        console.log(devicePlatform);

        if (devicePlatform == 'iOS') {

            window.cordova.plugins.settings.open("notification_id", function() {
                    console.log('opened settings');
                },
                function() {
                    console.log('failed to open settings');
                }
            );

        } else if (devicePlatform == 'Android') {

            window.cordova.plugins.settings.open("settings", function() {
                    console.log('opened settings');
                },
                function() {
                    console.log('failed to open settings');
                }
            );

        }
    };

    function openSettings() {}

    if (window.cordova && window.cordova.plugins.settings) {
        console.log('openNativeSettingsTest is active');
        window.cordova.plugins.settings.open("wifi", function() {
                console.log('opened settings');
            },
            function() {
                console.log('failed to open settings');
            }
        );
    } else {
        console.log('openNativeSettingsTest is not active!');
    }
</script>


<script type="text/javascript">
    return {}
    console.log(page.context);
</script>